<div class="widget metronome-widget">
    <h3>Metronome</h3>
    <div class="tempo-display">
        <span class="tempo-value">{{ tempo }}</span>
        <span class="bpm-label">BPM</span>
    </div>

    <div class="controls">
        <button class="btn-adjust" (click)="tempo = tempo - 5; updateTempo()">-5</button>
        <input type="range" min="40" max="200" [(ngModel)]="tempo" (change)="updateTempo()">
        <button class="btn-adjust" (click)="tempo = tempo + 5; updateTempo()">+5</button>
    </div>

    <div class="beat-indicator">
        <div class="dot" [class.active]="isPlaying && beat === 1"></div>
        <div class="dot" [class.active]="isPlaying && beat > 1"></div>
        <div class="dot" [class.active]="isPlaying && beat > 1"></div>
        <div class="dot" [class.active]="isPlaying && beat > 1"></div>
    </div>

    <button class="btn-toggle" [class.playing]="isPlaying" (click)="toggleMetronome()">
        <span class="material-icons">{{ isPlaying ? 'stop' : 'play_arrow' }}</span>
    </button>
</div>